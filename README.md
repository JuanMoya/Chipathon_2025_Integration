# IEEE SSCS Chipathon2025: Integration Track Documentation 
This repository contains the primary documentation related to the Integration track for the [IEEE SSCS Chipathon 2025](https://github.com/sscs-ose/sscs-chipathon-2025/)

The design manual of the GlobalFoundries GF180MCU PDK can be found [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/Design_Manual.html#design-manual).

## PDK main information for Chipathon 2025

The [process](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_02.html) used for this Chipathon is defined as:
| Process | Operating Voltages |
| ------------- | ------------- |
| 0.18um 3.3V/(5V) 6V (with MIM) | LV=3.3V, HV=5V or 6V |

Regarding the MIM caps there are 2 options as defined [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_02.html)

- MIM option A is between 3 and 2 and option B is TM/TM-1

The equivalent cross-sectional views for option [A](https://gf180mcu-pdk.readthedocs.io/en/latest/_images/MIM1.png) and [B](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_10_4_2.html) are presented below.

<p align="center">
   <img src="./img/MIM_A.png" width="600" />
</p>  

<p align="center">
   <img src="./img/MIM_B.png" width="600" />
</p>  

More information about the layout layers can be found [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_04_1.html) and the topological truth table for 3.3V(5V)6V Process can be found [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_04_4.html).

The table below presents some information associates with process options for this 2025 Chipathon:

| Cell Type | Cell Name  |
| ------------- | ------------- |
| BEOL Stack | 5LM |
| Passivation | Single |
| Top Metal | 11kA |
| MIM Option | Type B (TM-1 / TM) |
| MIM Density | 2.0fF |
| Resistor HRES | 1k |

Based on the information above and [the Maximum Line Current Density per Drawn Width](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_14_2.html), the Maximum Current Density (mA/um) for the metal layers is presented in the next table. The unidirectional current is defined as the steady value of direct current or the time average value of current always pulsed in the same direction. Whereas the bi-directional current is defined as the value of the current when averaged over one direction with the higher peak current (Ip maximum). The lower peak in the opposite direction is neglected.

|  | 85Â°C | 110Â°C  | 125Â°C |
| ------------- | ------------- | ------------- | ------------- |
| Metal 1-Top Metal - 1 |  |  |  |
| Unidirectional (CB) | 2.09 | 1 | 0.67 |
| Bi-directional (CB) | 3.14 | 1.5 | 1 |
| MetalTop (11kÃ… thick) |  |  |  |
| Unidirectional (CB) | 4.5 | 2.2 | 1.5 |
| Bi-directional (CB) | 7 | 3 | 2.2 |

Follows a table with the [Maximum Contact/Via Current](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_14_2.html) in mA.

|  | 85Â°C | 110Â°C  | 125Â°C |
| ------------- | ------------- | ------------- | ------------- |
| POLY2 Contact |  |  |  |
| Unidirectional  | 0.43 | 0.21 | 0.14 |
| Bidirectional  | 0.65 | 0.3 | 0.21 |
| COMP Contact |  |  |  |
| Unidirectional  | 0.58 | 0.28 | 0.18 |
| Bidirectional  | 0.87 | 0.42 | 0.28 |
| Via1/2/3/4/5 (Top via size = 0.26um) |  |  |  |
| Unidirectional  | 0.58 | 0.28 | 0.18 |
| Bidirectional  | 0.87 | 0.42 | 0.28 |

The device list can be found [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_15.html) and the rules not code can be found [here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_16.html).

Finally, it is important to highlight the following information:

- The main voltage associated with all the I/O pads is 5V.
- The gf180mcu D flavor allows to use both 3.3V and 5V/6V devices.
- Since there are no I/O pads at 3.3V, it is possible to use the 5V I/O pads at 3.3V but there is going to be an impact on the speed.

## Chipathon2025 Padring

The padring provided for this Chipathon was generated by Mehdi Saligane's research group. The GF180mcu padring can be found [here](https://github.com/idea-fasoc/openfasoc-tapeouts/tree/main/gf180mcu_padframe).  The available design area for participants is 2040um x 2040um and there 88 pins total (22 pins in each side). For the 2023 Chipathon version, we used a QFN-88 package reference.

<p align="center">
   <img src="./img/QFN-88.png" width="600" />
</p>  

Below is an image of the layout pattern and the different cells that compose it.
<p align="center">
   <img src="./img/gf180padring.png" width="600" />
</p>  

Here is a list of the different cells that can be included in this padring, the information can be found in [GlobalFoundries GF180MCU PDK documentation](https://gf180mcu-pdk.readthedocs.io/en/latest/IPs/IO/gf180mcu_fd_io/datasheet.html) and [GlobalFoundries GF180MCU PDK repository](https://github.com/google/globalfoundries-pdk-libs-gf180mcu_fd_io/tree/main/cells):

## Digital pin cells

| Cell Type | Cell Name  | Description |
| ------------- | ------------- | ------------- |
| Bidirectional | gf180mcu_fd_io__bi_t  | 5V WR bidirectional pad with programmable drive strength of 4mA, 8mA, 12mA and 16mA tri-state output buffer, fast/slow slew rate control, pull-up/down and selectable CMOS/Schmitt input.  |
| Bidirectional | gf180mcu_fd_io__bi_24t  | 5V WR bidirectional pad with 24mA drive strength tri-state output buffer, fast/slow slew rate control, pull-up/down and selectable CMOS/Schmitt input.|
| Input | gf180mcu_fd_io__in_c | 5V WR CMOS input only pad with pull-up/down |
| Input | gf180mcu_fd_io__in_s | 5V WR Schmitt Trigger input only pad with pull-up/down |

## Analog pin cells
| Cell Type | Cell Name  | Description |
| ------------- | ------------- | ------------- |
| Analog | gf180mcu_fd_io__asig_5p0 | 5V WR analogue signal pad with double diode protection (DC current carrying capability 10mA) |
| Tim Edwards Custom Cell | > ðŸš§ **Under Construction**  | > ðŸš§ **Under Construction**  |

[Here](https://gf180mcu-pdk.readthedocs.io/en/latest/physical_verification/design_manual/drm_05_4.html) you can find some Essential Guidelines for Analog Design.

## Power pin cells
| Cell Type | Cell Name  | Description |
| ------------- | ------------- | ------------- |
| Power Supply | gf180mcu_fd_io__dvdd | Power supply cell (DC current carrying capability 60mA) |
| Power Supply | gf180mcu_fd_io__dvss | Ground cell (DC current carrying capability 60mA) |

## Additional/Specific Purpose pin cells
| Cell Type | Cell Name  | Description |
| ------------- | ------------- | ------------- |
| Corner | gf180mcu_fd_io__cor | Corner cell |
| Filler | gf180mcu_fd_io__fillnc * | Filler for gap width less than 1Î¼m |
| Filler | gf180mcu_fd_io__fill1 | 1Î¼m filler |
| Filler | gf180mcu_fd_io__fill5 | 5Î¼m filler |
| Filler | gf180mcu_fd_io__fill10 | 10Î¼m filler |
| Breaker | gf180mcu_fd_io__brk2 | 2Î¼m Breaker with VSS |
| Breaker | gf180mcu_fd_io__brk5 | 5Î¼m Breaker with VSS |

It's important to note that the pin distribution will change based on the integrated projects, as demonstrated by the three projects submitted for the 2023 Chipathon. Here are the repositories of the project submitted.

- [LTC1](https://github.com/Azeem-Abbas/DC23-LTC1/tree/main)
- [LTC2](https://github.com/akiles-esta-usado/DC23-LTC2/tree/f6358b6aff1b4526a014195b640335f1def6f0c5/padframe)
- [LTC3 - Bracolin](https://github.com/gabrielmaranhao/Bracolin/tree/main)

## Example of Pin cells connection

Follows a description of the main pin cells used in Bracolin and some examples for pin connection.

Configuration for each of the pin cells provided for GlobalFoundries GF180MCU PDK are [here](https://gf180mcu-pdk.readthedocs.io/en/latest/IPs/IO/gf180mcu_fd_io/functional.html). All the I/O cells include ESD protections.

Some of the main cells included in Bracolin are:
- gf180mcu_fd_io__dvdd
- gf180mcu_fd_io__dvss
- gf180mcu_fd_io__asig_5p0 (analog inputs)
- gf180mcu_fd_io__bi_t (digital outputs)

Below is the layout connection for the VDD pin (gf180mcu_fd_io__dvdd).
<p align="center">
   <img src="./img/VDD_pin_connection.png" width="600" />
</p>  

Then, the layout connection for the VSS pin (gf180mcu_fd_io__dvss).
<p align="center">
   <img src="./img/VSS_pin_connection.png" width="600" />
</p> 

Follows the layout connection for the Analog input pin (gf180mcu_fd_io__asig_5p0).
<p align="center">
   <img src="./img/analog_pin_connection.png" width="600" />
</p> 

Finally, the layout connection for the Digital inputs and outputs (gf180mcu_fd_io__bi_t).
<p align="center">
   <img src="./img/digital_pin_connection_1.png" width="600" />
</p> 

### Detailed connection for Digital output pin configuration
First, we need to configure the control pins, as indicated in the [GlobalFoundries GF180MCU PDK documentation](https://gf180mcu-pdk.readthedocs.io/en/latest/IPs/IO/gf180mcu_fd_io/digital.html).

Based on the documentation, the output pin connection is shown below:
<p align="center">
   <img src="./img/digital_pin_connection_2.png" width="600" />
</p> 

Then, we need to configure the driver function, as illustrated in the Tri-state Programmable Digital I/O Cell [documentation](https://gf180mcu-pdk.readthedocs.io/en/latest/IPs/IO/gf180mcu_fd_io/digital.html), as indicated below:

The input driver is disabled. A is the output coming from the circuit designed.
<p align="center">
   <img src="./img/digital_pin_connection_3.png" width="600" />
</p> 

### Detailed connection of the signal rails
VDD ('1') and VSS ('0') signals are generated by using the `gf180mcu_fd_sc_mcu7t5v0_tieh` and `gf180mcu_fd_sc_mcu7t5v0_filltie` cells, as indicated below.
<p align="center">
   <img src="./img/digital_pin_connection_4.png" width="600" />
</p> 

### Including pads in simulations.
> ðŸš§ **Under Construction** 

### Custom ESD cell for Low-Current applications
Some of the building blocks in the Bracolin die lacked ESD protection due to leakage. The leakage current of the ESD protection was too high for the design. PEX Simulations in Magic and commercial tool demonstrated that the value of the leaking current was approximately 200pA.

<p align="center">
   <img src="./img/leakgage_EDS.png" width="600" />
</p> 

### Additional information about final DRC verification
During the final DRC verification of the 3 projects, new DRC rules appeared when running DRC flow with the gf180 commercial PDK. Especially for circuits close to the I/O pads. This issue was also identified in [this presentation](https://docs.google.com/presentation/d/12w4WBoleFAE4UePdoUf-bxsZR_BttwY3wknBPPJrEHE/edit?slide=id.g2318c480afb_0_0#slide=id.g2318c480afb_0_0) provided by Mehdiâ€™s research group (slides 13 and 14).

Here is a list of the DRC errors that we could waive after checking with the foundry:
<p align="center">
   <img src="./img/DRC_waived.png" width="600" />
</p> 

(Here)[https://docs.google.com/presentation/d/1SNwQ3wkQzGrByPWjSO483T4Ja2Eb9Euy5H0Ygm34oV4/edit?usp=sharing] you can find a template for the gf180mcu padring.
